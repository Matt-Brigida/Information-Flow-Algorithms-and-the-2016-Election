<!doctype html>
<html>
  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Competitive Adjustment to New Information at High-Frequency: The 2016 Election Results</title>
    <style>
      p.comment {
	  background-color: #FAB57F;
	  padding: 10px;
	  border: 1px solid black;
	  margin-left: 25px;
	  border-radius: 5px;
	  font-style: bold;
	  color: black;
      }

    </style>
    <link rel="stylesheet" href="css/reveal.css">
    <!-- <link rel="stylesheet" href="css/theme/black.css"> -->
    <link rel="stylesheet" href="css/theme/league.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
	<section>
	  <section data-background-image="./city_skyline.jpg">
	    <h2>Competitive Adjustment to New Information at High-Frequency: The 2016 Election Results</h2>
	    <br>
	    <br>
	    <br>
	    <br>
	    <br>
	    <br>
	  </section>
	  <section>
	    <h2>Information Flow, Algorithms, and the 2016 Election</h2>
	    <br>
	    <p> MATT BRIGIDA </p>
	    <p>Associate Professor of Finance (SUNY Polytechnic Institute)</p>
	    <p>Advisor, Milken Institute Center for Financial Markets</p>
	  </section>
	</section>


	<section>
	  <section>
	    <h2>The Data</h2>
	  </section>
	  	  <section>
	    <h3>E-Mini S&P 500 Futures</h3>

	    <ul>
	      <li><span class="fragment highlight-current-blue">Trading hours from Sunday--Friday 6:00 p.m. - 5:00 p.m. Eastern Time (ET)</span></li>
	      <li><span class="fragment highlight-current-blue">Contract value is $50 times the futures price.</span></li>
	      <li><span class="fragment highlight-current-blue">Cash delivery with expirations every 3 months</span>.</li>
	      <li><span class="fragment highlight-current-blue">Traded on the Chicago Mercantile Exchange (CME) (pit and electronic (Globex)).</span></li>
	      <li><span class="fragment highlight-current-green">Stock market price discovery occurs in this market.</span></li>
	    </ul>
	  </section>

	  <section>
	    <p align="left">Data are <a href="http://www.cmegroup.com/confluence/display/EPICSANDBOX/Market%2BDepth">Market Depth Data</a> for E-Mini S7P 500 futures (Globex) purchased directly from the CME.</p>
	    <ul>
	      <li>Market Depth Data contains <span class="fragment highlight-current-green">all market messages (trade/limit order updates) to and from the CME, and is time-stamped to the nanosecond</span>. Also tags agressor side.</li>
	      <li>Can recreate the ES orderbook up to 10 levels deep. </li>
	    </ul> 

	  </section>

	  <section>
	    <ul>
	      <li>The data are encoded in the <a href="http://www.cmegroup.com/confluence/download/attachments/62816403/Legacy\%2520FIX-FAST\%2520Market\%2520Dta\%2520Message\%2520Specification.pdf?version=2&modificationDate=1452872661000&api=v2">CME's FIX/FAST message specification</a>.</li>
	      <li>The translation scripts used in this analysis <a href="https://github.com/Matt-Brigida/CME-FIX-FAST-Translator">are available here</a>.</li>
	    </ul>
	  </section>

	  <section>
	    <h3>Why CME Data?</h3>
	    <ul>
	      <li>All trades and quotes take place in this one central book</li>
	      <li>No delay in orders due to location</li>
	      <li>Heavily traded.</li>
	      <!-- <li>Equity market price discovery occurs in ES.</li> -->
	    </ul>.  
	  </section>
	  <!-- </section> -->
		<section>
	  <h3>Clock vs Market Time</h3>
	  <p align="left">In the following plots we'll take a look at the data.  When looking at them it is important to note that the plots are in <span class="fragment highlight-current-green">market vs clock time</span>.</p>
	</section>
</section>

<section>
  <section>
    <h2>A Look at the Data</h2>
  </section>
  <section data-background-image="./code_image.jpg">
    <div class="stretch">
      <iframe src="./graphics/minute_trades_price.html" height="100%" width="100%"></iframe>
    </div>
  </section>

  <section data-background-image="./code_image.jpg">
    <div class="stretch">
      <iframe src="./graphics/bbo_trades_chart.html" height="100%" width="100%"></iframe>
    </div>
  </section>
</section>


<section>
  <section>
    <h2>Review</h2>
  </section>
  
  <!-- from https://github.com/Matt-Brigida/fin_532_market_depth/blob/master/index.html-->
  <section>
    <h3>Private Information</h3>

    <ul>
      <li>Trades are the method by which <b class="fragment highlight-green">private information</b> is incorporated into <b class="fragment highlight-green">prices</b>.</li>
      <li>Market participants estimate the amount of private information in each trade (as opposed to those trading on noise or for liquidity reasons).</li>
      <li>The greater the estimated amount of private information, the greater the price impact of the trade.</li>
    </ul>
  </section>
  
  <section>
    <h3>Public Information</h3>
    <ul>
      <li>Price adjustments to <b class="fragment highlight-red">public information</b> can be made by changes in the <b class="fragment highlight-red">bid and offer prices</b>.</li>
      <li>Trades may affect the ultimate reaction, and speed with which it occurs.</li>
    </ul>
  </section>

  <section>
    <h3>Kyle's Model</h3>

    <p align="left"><a href="https://scholar.google.com/scholar?cluster=16196574577296518177&hl=en&as_sdt=0,33">Kyle (1985)</a> formally models the trading strategy of a trader with private information, who attempts to trade in a way to maximize profits from this information.</p>

    <ul>
      <li>Within the model a parameter, $\lambda$ is determined which measures market depth.</li>
      <li>Specifically <b class="fragment highlight-blue">$\frac{1}{\lambda}$</b> measures the <b class="fragment highlight-blue">orderflow (in <span>$</span>) necessary to increase/decrease the price by <span>$</span>1</b>.</li>
    </ul>
  </section>
  
  <section>
    <h3>Estimation</h3>

    <p align="left">To estimate $\lambda$ we use:</p>

    $\lambda = \frac{|\Delta(price)|}{volume\ in\ \$}$

    <p align="left">rearranging this formula affords:</p>

    $|\Delta(price)| = \lambda(volume\ in\ \$)$

    <p align="left">We can thus estimate $\lambda$ via the following regression equation:</p>

    <b class="fragment highlight-blue">$|\Delta(price)_t| = \alpha + \lambda(volume\ in\ \$)_t + e_t$</b>
  </section>


  <section data-background-image="./code_image.jpg">
    <div class="stretch">
      <iframe src="./kyles_lambda_calculation/new_kalman_filtered_beta_1_tick.html" height="100%" width="100%"></iframe>
    </div>
  </section>

  
</section>

<section>
<section>
  <h2>A Brief HFT Strategy Overview</h2>
</section>

<section>
  <h3>First, what makes a market good?</h3>
  <ul>
    <li><span class="fragment highlight-current-green">Liquidity</span></li>
    <li><span class="fragment highlight-current-green">Price Discovery</span></li>
  </ul>
  
</section>
 
 <section>
   <h3>Broad Types of HFT</h3>
 <ul>
   <li><span class="fragment highlight-current-green">Liquidity Providing</span></li>
   <li><span class="fragment highlight-current-red">Opportunistic</span></li>
 </ul>
</section>

<section>
  <h3>Liquidity Providing</h3>
  <p align="left">HFT serve a market making function in modern markets.  This function has allowed the creation of new exchanges.  HFT that serve as market makers may not have all the regulations of official market makers.</p>
  <ul>
    <li>There is <span class="fragment highlight-current-green">evidence the majority of HFT serve as liquidity providers</span>.</li>
  </ul>
</section>

<section>
  <h3>Opportunistic</h3>
  <p align="left">Often employ momentum trading strategies, or trade based on low latency reaction to events ( <span class="fragment highlight-red"> structural and latency arbitrage; order detection</span>). They still rarely cross the spread.</p>

  <ul>
    <li>These strategies tend to reduce liquitity.</li>
    <li><span class="fragment highlight-red">Disintermediate</span> between market participants.</li>
    <li>Harmful to markets.</li>
    <li>Likely the minority of HFT.</li>
  </ul>

</section>
</section>


<section>
  <section>
    <h2>Reactive Liquidity</h2>
  </section>
  <section>
    <h3>A Look at Algorithmic Reaction to Trades</h3>
    <p align="left">Is liquidity really there?  In modern markets this cannot be adequately answered even ex-post given the speed with which <b class="fragment highlight-red">high-frequency traders (HFT) can remove liquidity</b> in response to a market event.</p>
    <ul>
      <li>Would that same liquidity have been there <span class="fragment highlight-green">if you flashed an order or if someone had executed a trade?</span></li>
      <li><a href="https://scholar.google.com/scholar?cluster=7729580102013955295&hl=en&as_sdt=0,33">O'Hara (2015)</a>: as many as 98% of all orders are subsequently cancelled instead of being executed as trades</li>
    </ul>
  </section>
  
  <section>
    <p align="left">Trade criteria:</p>

    <ul>
      <li>The trade had to be for <span class="highlight current-red">5 or fewer</span> contracts.</li>
      <li>No trades in the following 100 ms.</li>
    </ul>
  </section>
  
    <section>
      <h3>Method</h3>
      <p align="left">We calculate the change in liquidity in the 100 ms after each trade, and regress this on 3 measures of market activity pre-trade.  The three pre-trades measures are:</p>      
      <ul>
	<li>The average bid/ask spread.</li>
	<li>The number of trades.</li>
	<li>The number of book changes.</li>
      </ul>
    </section>

    <section>
      <h3>Results</h3>
    </section>
    
  <section data-background-image="./code_image.jpg">
    <div class="stretch">
      <iframe src="./graphics/bid_num_book_changes.html" height="100%" width="100%"></iframe>
    </div>
  </section>

  <section data-background-image="./code_image.jpg">
    <div class="stretch">
      <iframe src="./graphics/bid_num_trades.html" height="100%" width="100%"></iframe>
    </div>
  </section>

  <section data-background-image="./code_image.jpg">
    <div class="stretch">
      <iframe src="./graphics/bid_avg_bid_ask.html" height="100%" width="100%"></iframe>
    </div>
  </section>

  <section>
    <!--- add summary here; look at regression results-->
  </section>


  </section>



<section>
  <section>
    <h2><span class="fragment highlight-current-green">Thinking With Data</span></h2>
  </section>
  
  <section>
    <h3>Algo Classification</h3>

    <p align="left"><a href="https://scholar.google.com/scholar?cluster=4756032465906689647&hl=en&as_sdt=0,33">Hasbrouck (2016) (High-Frequency Quoting)</a> used variance ratio tests as evidence of algorithmic trading.  His method was ex-post.</p>
    <ul>
      <li>It found evidence of very fast (independent) changes in the bid/offer.</li>
      <li><span class="fragment highlight-current-red">Changing liquidity is a greater cost for slower traders</span>.</li>
      <li>Method used cannot be modified to identify the activity on-the-fly.</li>
    </ul>

  </section>

  <section>
        <h3>Idea</h3>
  </section>
    <section>

    <p align="left">If we can identify periods with particularly volatile liquidity we can create trading <span class="fragment highlight-current-green">mechanisms whereby slower traders liquidity taking orders are canceled/delayed until liquidity is less volatile</span>.</p>

    <p align="left">High-latency (retail) would not notice the delay.  It would save each retail trader a fraction of a cent on each share, but across all retain trades this would be considerable savings.</p>

  </section>
  
  <section>
    
    <p align="left">Because of the low-latency nature of the data, these are necessarily automated rules (estimate liquidity volatility over the next few milliseconds and potentially delay given the results).</p>

    <ul>
      <li>Identification would have to be quick (forward pass through models in milliseconds).</li>
      <li><span class="fragment highlight-current-green"><a href="https://iextrading.com/docs/The%20Evolution%20of%20the%20Crumbling%20Quote%20Signal.pdf">A similar idea is being implemented by the IEX</a></span>. Their signal identifies an imminent chance in the bid/ask midpoint by monitoring bid/ask prices across stock exchanges.</li>
    </ul>
    
  </section>
</section>


  <section>
  <section>
    <h2>Markov-Regime Switching Regression Approach</h2>
  </section>
  <section>
    <h3>Real-Time Classification</h3>

    <p align="left">I attempt to identify the presence of algorithms by including thier presence as a latent variable in a Markov-Switching regression---an <b class="fragment highlight-green">unsupervised learning approach</b></p>

  </section>


  <section>
    <h3>Varying Liquidity</h3>
    <p align="left">I measure liquidity on each side of the book as the amount of ES that can be bought within one point of the present bid-ask midpoint. </p>
    <ul>
      <li>1 point is 4 ticks (so maximum the inside quote and 3 additional leveld of the book)</li>
      <li>I then calculate the average liquidity over each millisecond, and each second.</li>
    </ul>	    
  </section>
  
  <section>
    <h3>Model</h3>
    <br>
    <span class="fragment highlight-current-green">
      \[
      Liq_t =
      \begin{cases}
      \alpha_1 + \beta_1 Liq_{t-1} + \epsilon_1, \ \ \ \epsilon_1 \sim N(0, \sigma_1)    \\
      \alpha_2 + \beta_2 Liq_{t-1} + \epsilon_2, \ \ \ \epsilon_2 \sim N(0, \sigma_2)    \\
      \end{cases}
      \]
    </span>
    <br>
    <br>
    <span class="fragment highlight-current-green">
      \[
      P(s_t = j | s_{t-1} = i) = p_{ij} \\ \text{for} \ \ i,j \in {1,2} \ and \ \sum_{j=1}^2 = 1
      \]
    </span>	
    
  </section>

  <section>
    <h3>Model Estimation</h3>
    <p align="left">The model is estimated via the Hamilton Filter.</p>
    <ul>
      <li>Original code was in plain R, though it took to long to estimate.</li>
      <li>Rewritten in C++, making use of Rcpp.</li>
    </ul>
  </section>

  <section>
    <h3>Example Code</h3>

      <pre><code data-trim data-noescape>	  
double lik(NumericVector theta, NumericVector lnoil_, NumericVector lnng_, NumericVector change_bam_) {
  
  arma::colvec lnoil = lnoil_;
  arma::colvec lnng = lnng_;
  arma::colvec change_bam = change_bam_;
  
  double alpha1 = theta[0];
  double alpha2 = theta[1];
  double alpha3 = theta[2];
  double alpha4 = theta[3];
  double alpha5 = theta[4];
  double alpha6 = theta[5];
  double p11 = 1 / (1 + exp(-1*theta[6])); 
  double p22 = 1 / (1 + exp(-1*theta[7]));
  double alpha7 = theta[8];
  double alpha8 = theta[9];

  
  
  arma::mat dist_1 = (1 / (alpha5 * sqrt(2 * PII)))*exp((-pow((lnng - alpha1 - alpha3*lnoil - alpha7 * change_bam), 2))/(2*pow(alpha5,2)));
  arma::mat dist_2 = (1 / (alpha6 * sqrt(2 * PII)))*exp((-pow((lnng - alpha2 - alpha4*lnoil - alpha8 * change_bam), 2))/(2*pow(alpha6,2)));
  
  arma::mat dist = arma::join_rows(dist_1, dist_2);
  
  arma::colvec o;
  o << 1 << 1;
  
  arma::mat P;
  P << p11 << 1 - p22 << arma::endr
    << 1 - p11 << p22 << arma::endr;
  
  int length_lnoil = lnoil.n_elem;
  
  arma::mat xi_a(length_lnoil, 2);
  arma::mat xi_b(length_lnoil, 2);
  arma::vec model_lik(length_lnoil, 1);

  // replace to use armadillo's elementwise multiplication operator % as in mat c =  v % b;
  arma::rowvec first_xi_a_numerator;
  first_xi_a_numerator << p11 * dist.row(0)[0] << p22 * dist.row(0)[2];
  double first_xi_a_denominator = p11 * dist.row(0)[0] + p22 * dist.row(0)[1];
  
  xi_a.row(0)[0] = first_xi_a_numerator[0] / first_xi_a_denominator;
  xi_a.row(0)[1] = first_xi_a_numerator[1] / first_xi_a_denominator;

  for (int i = 1; i < length_lnoil; i++){
    xi_b.row(i) = (P * xi_a.row(i - 1).t()).t();
    xi_a.row(i) = ((xi_b.row(i) % dist.row(i)) / (xi_b.row(i)[0] * dist.row(i)[0] + xi_b.row(i)[1] * dist.row(i)[1]));
    model_lik.at(i) = (xi_b.row(i)[0] * dist.row(i)[0] + xi_b.row(i)[1] * dist.row(i)[1]);
  }

  double logl = arma::accu(log(model_lik.subvec(1, length_lnoil - 1)));
  return -1 * logl;

}
      </code></pre>    
  </section>
  
  <section>
    <h3>Results: 2 State Model</h3>
       \[
      Liq_t =
      \begin{cases}
      -0.83 + 0.49 Liq_{t-1} + \epsilon_1, \ \ \ \epsilon_1 \sim N(0, 0.47)    \\
      0 + 1 Liq_{t-1} + \epsilon_2, \ \ \ \epsilon_2 \sim N(0, 0.002)    \\
      \end{cases}
       \]
  </section>

  <section>
    <h3>Results</h3>
    <ul>
      <li>The model is only picking up states of changing liquidity and stable liquidity.</li>
      <li>Ex-post this makes sense.</li>
      <li>This motivates a 3 state model:
	<ol>
	  <li>stable liquidity</li>
	  <li>normal changing liquidity</li>
	  <li>changing liquidity due to HFT</li>
	</ol>
      </li>
    </ul>
  </section>
 

  <!-- <section data-background-image="./code_image.jpg"> -->
  <!--   <div class="stretch"> -->
  <!--     <iframe src="./graphics/state_2_prob.html" height="100%" width="100%"></iframe> -->
  <!--   </div> -->
  <!-- </section> -->


  <!-- <section data-background-image="./code_image.jpg"> -->
  <!--   <div class="stretch"> -->
  <!--     <iframe src="./graphics/state_density.html" height="100%" width="100%"></iframe> -->
  <!--   </div> -->
  <!-- </section> -->

  <section>
    <h3>Results: 3 State Model</h3>
    <!-- neat, second state is quickly changing liquidity with no change in BAM-->
       \[
      Liq_t =
      \begin{cases}
      -0.00 + 1 Liq_{t-1} -0.12 \Delta BAM + \epsilon_1 \\
      -0.01 + 0.32 Liq_{t-1} + 0.004 \Delta BAM + \epsilon_2 \\
      -0.09 + 0.22 Liq_{t-1} + 1.02 \Delta BAM + \epsilon_2 \\
      \end{cases}
    \]
    <br>
						  \[
						  \texttt{where}
    \begin{cases}
\epsilon_1 \sim N(0, 0.004)    \\	     
 \epsilon_2 \sim N(0, 0.40)    \\     
 \epsilon_2 \sim N(0, 0.2929)    \\
    \end{cases}
    \]
  </section>

    <section data-background-image="./code_image.jpg">
    <div class="stretch">
      <iframe src="./graphics/state_2_from_3_state_prob.html" height="100%" width="100%"></iframe>
    </div>
    </section>

  <!-- also put the state denity plot -->
    <section data-background-image="./code_image.jpg">
    <div class="stretch">
      <iframe src="./graphics/state2_density_ESZ6_nov_9_2016.html" height="100%" width="100%"></iframe>
    </div>
    </section>

    <section>
      <h3><span class="fragment highlight-current-blue">4 States?</span></h3>
    </section>


  </section>

  <section>
    <section>
      <h3>AI/ML Approaches</h3>
    </section>
    <section>
      <h3>LSTM Time Series Prediction</h3>
      
    </section>
    <section>
      <h3>Signal Based on Prediction Error</h3>
      <p align="left">We can use a prediction error above a particular threshold as our algo indicator.</p>
      <ul>
	<li>Downside no obvious threshold other than a confidence interval.</li>
	<li>Must establish a link between the prediction error and algo activity.</li>
      </ul>
    </section>
    <section>
      <h3>Neural Net Graph (from Tensorboard)</h3>
      <div class="stretch">
	<iframe src="./graphics/lstm_graph.png" height="100%" width="100%"></iframe>
      </div>
    </section>
    <section>

      <section data-background-image="./code_image.jpg">
	<div class="stretch">
	  <iframe src="./graphics/prediction_error_hundred_k.html" height="100%" width="100%"></iframe>
	</div>
      </section>
  </section>
</section>

<section>
  <section>
    <h2>LSTM Vs MS Switching Results</h2>    
  </section>
  <!-- insert plot -->
<section data-background-image="./code_image.jpg">
  <div class="stretch">
    <iframe src="./graphics/pred_error_vs_state2_from_3.html" height="100%" width="100%"></iframe>
  </div>
</section>

    <section>
      <pre><code data-trim data-noescape>	  
### lets look at the correlation between signals------

pred_error_signal <- 1 * (abs(pred_error) > .1)
state_prob_signal <- 1 * ((1 - state_prob) > .5)

cor.test(pred_error_signal, state_prob_signal)
## 	Pearson's product-moment correlation

## data:  pred_error_signal and state_prob_signal
## t = 110.56, df = 99999, p-value < 2.2e-16
## alternative hypothesis: true correlation is not equal to 0
## 95 percent confidence interval:
##  0.3245093 0.3355549
## sample estimates:
##       cor 
## 0.3300434 

</code></pre>
  </section>
</section>
	

<!-- <section> -->
<!--   <h4>References</h4> -->
<!--   @article{o2015high, -->
<!--   title={High frequency market microstructure}, -->
<!--   author={Oâ€™Hara, Maureen}, -->
<!--   journal={Journal of Financial Economics}, -->
<!--   volume={116}, -->
<!--   number={2}, -->
<!--   pages={257--270}, -->
<!--   year={2015}, -->
<!--   publisher={Elsevier} -->
<!-- } -->
<!-- </section> -->



</div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
  // More info about config & dependencies:
  // - https://github.com/hakimel/reveal.js#configuration
  // - https://github.com/hakimel/reveal.js#dependencies
  Reveal.initialize({

  transition: 'convex',
  
  <!-- menu: { -->
  <!-- 	// Specifies which side of the presentation the menu will  -->
  <!-- 	// be shown. Use 'left' or 'right'. -->
  <!-- 	side: 'left', -->

  <!-- 	// Add slide numbers to the titles in the slide list. -->
  <!-- 	// Use 'true' or format string (same as reveal.js slide numbers) -->
  <!-- 	numbers: false, -->

  <!-- 	// Specifies which slide elements will be used for generating -->
  <!-- 	// the slide titles in the menu. The default selects the first -->
  <!-- 	// heading element found in the slide, but you can specify any -->
  <!-- 	// valid css selector and the text from the first matching -->
  <!-- 	// element will be used. -->
  <!-- 	// Note: that a section data-menu-title attribute or an element -->
  <!-- 	// with a menu-title class will take precedence over this option -->
  <!-- 	titleSelector: 'h1, h2, h3, h4, h5, h6', -->

  <!-- 	// If slides do not have a matching title, attempt to use the -->
  <!-- 	// start of the text content as the title instead -->
  <!-- 	useTextContentForMissingTitles: false, -->

  <!-- 	// Hide slides from the menu that do not have a title. -->
  <!-- 	// Set to 'true' to only list slides with titles. -->
  <!-- 	hideMissingTitles: false, -->

  <!-- 	// Add markers to the slide titles to indicate the  -->
  <!-- 	// progress through the presentation -->
  <!-- 	markers: false, -->

  <!-- 	// Specify custom panels to be included in the menu, by -->
  <!-- 	// providing an array of objects with 'title', 'icon' -->
  <!-- 	// properties, and either a 'src' or 'content' property. -->
  <!-- 	custom: false, -->

  <!-- 	// Specifies the themes that will be available in the themes -->
  <!-- 	// menu panel. Set to 'false' to hide themes panel. -->
  <!-- 	themes: [ -->
  <!-- 		{ name: 'Black', theme: 'css/theme/black.css' }, -->
  <!-- 		{ name: 'White', theme: 'css/theme/white.css' }, -->
  <!-- 		{ name: 'League', theme: 'css/theme/league.css' }, -->
  <!-- 		{ name: 'Sky', theme: 'css/theme/sky.css' }, -->
  <!-- 		{ name: 'Beige', theme: 'css/theme/beige.css' }, -->
  <!-- 		{ name: 'Simple', theme: 'css/theme/simple.css' }, -->
  <!-- 		{ name: 'Serif', theme: 'css/theme/serif.css' }, -->
  <!-- 		{ name: 'Blood', theme: 'css/theme/blood.css' }, -->
  <!-- 		{ name: 'Night', theme: 'css/theme/night.css' }, -->
  <!-- 		{ name: 'Moon', theme: 'css/theme/moon.css' }, -->
  <!-- 		{ name: 'Solarized', theme: 'css/theme/solarized.css' } -->
  <!-- 	], -->

  <!-- 	// Specifies if the transitions menu panel will be shown. -->
  <!-- 	transitions: true, -->

  <!-- 	// Adds a menu button to the slides to open the menu panel. -->
  <!-- 	// Set to 'false' to hide the button. -->
  <!-- 	openButton: true, -->

  <!-- 	// If 'true' allows the slide number in the presentation to -->
  <!-- 	// open the menu panel. The reveal.js slideNumber option must  -->
  <!-- 	// be displayed for this to take effect -->
  <!-- 	openSlideNumber: false, -->

  <!-- 	// If true allows the user to open and navigate the menu using -->
  <!-- 	// the keyboard. Standard keyboard interaction with reveal -->
  <!-- 	// will be disabled while the menu is open. -->
  <!-- 	keyboard: true, -->

  <!-- 	// Normally the menu will close on user actions such as -->
  <!-- 	// selecting a menu item, or clicking the presentation area. -->
  <!-- 	// If 'true', the sticky option will leave the menu open -->
  <!-- 	// until it is explicitly closed, that is, using the close -->
  <!-- 	// button or pressing the ESC or m key (when the keyboard  -->
  <!-- 	// interaction option is enabled). -->
  <!-- 	sticky: false, -->

  <!-- 	// If 'true' standard menu items will be automatically opened -->
  <!-- 	// when navigating using the keyboard. Note: this only takes  -->
  <!-- 	// effect when both the 'keyboard' and 'sticky' options are enabled. -->
  <!-- 	autoOpen: true, -->

  <!-- 	// If 'true' the menu will not be created until it is explicitly -->
  <!-- 	// requested by calling RevealMenu.init(). Note this will delay -->
  <!-- 	// the creation of all menu panels, including custom panels, and -->
  <!-- 	// the menu button. -->
  <!-- 	delayInit: false, -->

  <!-- 	// By default the menu will load it's own font-awesome library -->
  <!-- 	// icons. If your presentation needs to load a different -->
  <!-- 	// font-awesome library the 'loadIcons' option can be set to false -->
  <!-- 	// and the menu will not attempt to load the font-awesome library. -->
  <!-- 	loadIcons: true -->
  <!-- }, -->

  <!-- uncomment the below section, and the two lines in the dependencies below, to turn on audio -->
  <!-- audio: { -->
  <!-- prefix: 'audio/', 	// audio files are stored in the "audio" folder -->
  <!-- suffix: '.wav',		// audio files have the ".ogg" ending --- changed to wav -->
  <!-- textToSpeechURL: null,  // the URL to the text to speech converter -->
  <!-- defaultNotes: false, 	// use slide notes as default for the text to speech converter -->
  <!-- defaultText: false, 	// use slide text as default for the text to speech converter -->
  <!-- advance: 0, 		// advance to next slide after given time in milliseconds after audio has played, use negative value to not advance  -->
  <!-- autoplay: false,	// automatically start slideshow -->
  <!-- defaultDuration: 5,	// default duration in seconds if no audio is available  -->
  <!-- playerOpacity: 0.05,	// opacity value of audio player if unfocused -->
  <!-- playerStyle: 'position: fixed; bottom: 4px; left: 25%; width: 50%; height:75px; z-index: 33;', // style used for container of audio controls  -->
  <!-- startAtFragment: false, // when moving to a slide, start at the current fragment or at the start of the slide -->
  <!-- }, -->
<!-- end audio section -->

  
  chalkboard: { 
  src: null,
  readOnly: undefined, 
  toggleChalkboardButton: { left: "90px", bottom: "30px", top: "auto", right: "auto" },
  toggleNotesButton: { left: "150px", bottom: "30px", top: "auto", right: "auto" },
  },
    math: {
		mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
		config: 'TeX-AMS_HTML-full'  // See http://docs.mathjax.org/en/latest/config-files.html
	},
  dependencies: [
  { src: 'plugin/math/math.js', async: true },
  <!--   { src: 'plugin/audio-slideshow/slideshow-recorder.js', condition: function( ) { return !!document.body.classList; } },				 -->
  <!-- { src: 'plugin/audio-slideshow/audio-slideshow.js', condition: function( ) { return !!document.body.classList; } }, -->
  { src: 'plugin/markdown/marked.js' },
  { src: 'plugin/markdown/markdown.js' },
  { src: 'plugin/menu/menu.js' },
  { src: 'plugin/notes/notes.js', async: true },
  <!-- { src: 'node_modules/reveal.js-menu/menu.js' }, -->
  { src: 'plugin/chalkboard/chalkboard.js' },
  { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
  ],
  keyboard: {
  67: function() { RevealChalkboard.toggleNotesCanvas() },	// toggle notes canvas when 'c' is pressed
  66: function() { RevealChalkboard.toggleChalkboard() },	// toggle chalkboard when 'b' is pressed
  46: function() { RevealChalkboard.clear() },	// clear chalkboard when 'DEL' is pressed
  8: function() { RevealChalkboard.reset() },	// reset chalkboard data on current slide when 'BACKSPACE' is pressed
  68: function() { RevealChalkboard.download() },	// downlad recorded chalkboard drawing when 'd' is pressed
  82: function() { Recorder.toggleRecording(); },	// press 'r' to start/stop recording
  90: function() { Recorder.downloadZip(); }, 	// press 'z' to download zip containing audio files
  84: function() { Recorder.fetchTTS(); }, 	// press 't' to fetch TTS audio files
  },
  });
</script>
</body>
</html>
